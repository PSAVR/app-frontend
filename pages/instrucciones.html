<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Instrucciones</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="../styles/instrucciones.css" />
</head>
<body>
  <canvas id="lavaCanvas"
  width="2048" height="1024"
  style="position:fixed; top:0; left:0; width:100%; height:100%;
         z-index:-1; pointer-events:none;"></canvas>

  <div class="shell">
    <div class="card">
      <h1>Instrucciones</h1>
      <ul>
        <li>Prepara tu discurso para la exposición a continuación</li>
        <li>El silencio es penalizado</li>
        <li>Puedes finalizar la sesión antes, pero mínimamente debes exponer 30 segundos. Si la duración es menor, no se analizará la exposición</li>
      </ul>
      <button class="cta" id="continue-btn">CONTINUAR</button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const qs = new URLSearchParams(location.search);
      const levelId = parseInt(qs.get("level_id"), 10) || 1;    
      const seconds = parseInt(qs.get("seconds"), 10) || 60;   
      const minutes = Math.round(seconds / 60);

      const LEVEL_SLUG = { 1:'facil', 2:'intermedio', 3:'dificil' };

      document.getElementById("continue-btn").addEventListener("click", () => {
        if (typeof setSeleccion === "function") {
          setSeleccion(LEVEL_SLUG[levelId] || 'facil', minutes);
        }
        if (typeof irAJuego === "function") {
          irAJuego();
        } else {
          console.error("irAJuego() no está definida — revisa que logic.js cargó bien");
        }
      });
    });
  </script>
  <script src="./js/fondo-lava.js"></script>
  <script src="./js/logout.js"></script>
  <script src="./js/home-icon.js"></script>
  <script src="./js/logic.js" defer></script>
</body>
</html>
